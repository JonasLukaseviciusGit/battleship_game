import tkinter as tk
import numpy as np
import sys

SIZE = 700
DIMENSION = 20


def create_matrix():
    matrix = np.zeros((DIMENSION, DIMENSION), dtype=int)
    return matrix


matrix = create_matrix()


def on_tile_click(event):
    # Calculate the tile indices based on cursor position
    row = int(event.y / tile_size) - 1
    col = int(event.x / tile_size) - 1

    # Check if the indices are within the valid range
    if row >= 0 and row < DIMENSION and col >= 0 and col < DIMENSION:
        x1 = col * tile_size + tile_size
        y1 = row * tile_size + tile_size
        x2 = x1 + tile_size
        y2 = y1 + tile_size
        canvas.create_rectangle(x1, y1, x2, y2, fill='dark khaki', tags="engine")
        matrix[row][col] = 1  # Set the value in the matrix to 1 for the clicked tile


def on_tile_hover(event):
    # Calculate the tile indices based on cursor position
    row = int(event.y / tile_size) - 1
    col = int(event.x / tile_size) - 1

    # Clear previous green tiles
    canvas.delete("green_tile")

    # Check if the indices are within the valid range
    if row >= 0 and row < DIMENSION and col >= 0 and col < DIMENSION:
        x1 = col * tile_size + tile_size
        y1 = row * tile_size + tile_size
        x2 = x1 + tile_size
        y2 = y1 + tile_size
        canvas.create_rectangle(x1, y1, x2, y2, fill='pale goldenrod', tags="green_tile")

def create_board():
    # Create the main window
    window = tk.Tk()
    window.title("Tiled Board")

    # Create the canvas
    global canvas
    canvas = tk.Canvas(window, width=SIZE, height=SIZE)
    canvas.pack()

    global tile_size
    tile_size = SIZE / (DIMENSION + 1)  # Size of each tile in pixels

    # Draw the tiles and lines
    for row in range(DIMENSION):
        for col in range(DIMENSION):
            x1 = col * tile_size + tile_size
            y1 = row * tile_size + tile_size
            x2 = x1 + tile_size
            y2 = y1 + tile_size

            canvas.create_rectangle(x1, y1, x2, y2, fill='white')

            # Draw the lines
            canvas.create_line(x1, y1, x1, y2, fill="black")  # Vertical line
            canvas.create_line(x1, y1, x2, y1, fill="black")  # Horizontal line

    # Numerate the y-axis with numbers
    for row in range(DIMENSION):
        x = tile_size * 0.5
        y = row * tile_size + tile_size * 1.5
        canvas.create_text(x, y, text=str(row + 1), anchor="center")

    # Numerate the x-axis with letters
    for col in range(DIMENSION):
        x = col * tile_size + tile_size * 1.5
        y = tile_size * 0.5
        canvas.create_text(x, y, text=chr(col + 65), anchor="center")

    # Bind the motion event to change tile color
    canvas.bind("<Motion>", on_tile_hover)
    canvas.bind("<Button-1>", on_tile_click)  # Bind the click event

    # Start the tkinter event loop
    window.mainloop()


# Create the board
create_board()
